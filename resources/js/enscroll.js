!function(t,e,r,n){var l={verticalScrolling:!0,horizontalScrolling:!1,verticalScrollerSide:"right",showOnHover:!1,scrollIncrement:20,minScrollbarLength:40,pollChanges:!0,drawCorner:!0,drawScrollButtons:!1,clickTrackToScroll:!0,easingDuration:500,propagateWheelEvent:!0,verticalTrackClass:"vertical-track",horizontalTrackClass:"horizontal-track",horizontalHandleClass:"horizontal-handle",verticalHandleClass:"vertical-handle",scrollUpButtonClass:"scroll-up-btn",scrollDownButtonClass:"scroll-down-btn",scrollLeftButtonClass:"scroll-left-btn",scrollRightButtonClass:"scroll-right-btn",cornerClass:"scrollbar-corner",zIndex:1,addPaddingToPane:!0,horizontalHandleHTML:'<div class="left"></div><div class="right"></div>',verticalHandleHTML:'<div class="top"></div><div class="bottom"></div>'},o=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},i=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,17)},s=function(e,r){var n=t(e).css(r),l=/^-?\d+/.exec(n);return l?+l[0]:0},a=function(t){var e,r,n={width:"5px",height:"1px",overflow:"hidden",padding:"8px 0",visibility:"hidden",whiteSpace:"pre-line",font:"10px/1 serif"},l=document.createElement(t),o=document.createTextNode("a\na");for(r in n)l.style[r]=n[r];return l.appendChild(o),document.body.appendChild(l),e=l.scrollHeight<28,document.body.removeChild(l),e},c=.5*Math.PI,h=10*Math.log(2),d=function(t,e,r){var n=c/e,l=t*n;return Math.round(l*Math.cos(n*r))},u=function(t,e,r,n){return 2*r/Math.PI*Math.asin((n-t)/e)},p=function(e){var r=t(this).data("enscroll"),n=this,l=r.settings;r&&l.showOnHover&&(r._fadeTimer?clearTimeout(r._fadeTimer):(l.verticalScrolling&&t(r.verticalTrackWrapper).is(":visible")&&t(r.verticalTrackWrapper).stop().fadeTo(275,1),l.horizontalScrolling&&t(r.horizontalTrackWrapper).is(":visible")&&t(r.horizontalTrackWrapper).stop().fadeTo(275,1)),!1!==e&&(r._fadeTimer=setTimeout(function(){(function(){var e=t(this).data("enscroll"),r=e.settings;e&&r.showOnHover&&(r.verticalScrolling&&t(e.verticalTrackWrapper).is(":visible")&&t(e.verticalTrackWrapper).stop().fadeTo(275,0),r.horizontalScrolling&&t(e.horizontalTrackWrapper).is(":visible")&&t(e.horizontalTrackWrapper).stop().fadeTo(275,0),e._fadeTimer=null)}).call(n)},1750)))},g=function(e,r){var n=t(e),l=n.data("enscroll"),o=n.scrollTop();l&&l.settings.verticalScrolling&&(n.scrollTop(o+r),l.settings.showOnHover&&p.call(e))},f=function(e,r){var n=t(e),l=n.data("enscroll"),o=n.scrollLeft();l&&l.settings.horizontalScrolling&&(n.scrollLeft(o+r),l.settings.showOnHover&&p.call(e))},v=function(t){var e,r,n,l=t.data("enscroll"),o=l._duration;!0===l._scrollingX&&(0===(e=l._endX-l._startX)?l._scrollingX=!1:(r=t.scrollLeft(),n=u(l._startX,e,o,r),e>0?r>=l._endX||r<l._startX?l._scrollingX=!1:(f(t,Math.max(1,d(e,o,n))),i(function(){v(t)})):r<=l._endX||r>l._startX?l._scrollingX=!1:(f(t,Math.min(-1,d(e,o,n))),i(function(){v(t)})))),!0===l._scrollingY&&(0===(e=l._endY-l._startY)?l._scrollingY=!1:(r=t.scrollTop(),n=u(l._startY,e,o,r),e>0?r>=l._endY||r<l._startY?l._scrollingY=!1:(g(t,Math.max(1,d(e,o,n))),i(function(){v(t)})):r<=l._endY||r>l._startY?l._scrollingY=!1:(g(t,Math.min(-1,d(e,o,n))),i(function(){v(t)}))))},m=function(){var e,r,n,l=t(this),o=l.data("enscroll");o&&(o.settings.verticalScrolling&&(e=(r=t(o.verticalTrackWrapper).find(".enscroll-track")[0]).firstChild,n=l.scrollTop()/(this.scrollHeight-(o._scrollHeightNoPadding?l.height():l.innerHeight())),n=isNaN(n)?0:n,e.style.top=n*(t(r).height()-t(e).outerHeight())+"px"),o.settings.horizontalScrolling&&(e=(r=t(o.horizontalTrackWrapper).find(".enscroll-track")[0]).firstChild,n=l.scrollLeft()/(this.scrollWidth-l.innerWidth()),n=isNaN(n)?0:n,e.style.left=n*(t(r).width()-t(e).innerWidth())+"px"))},y=function(e){if(1===e.which){var n,l,o,s,a,c,h,d,u,g=e.data.pane,f=t(g),y=f.data("enscroll"),T=!0,w=function(){T&&(o!==s&&(y._scrollingY||(y._scrollingY=!0,y._startY=f.scrollTop(),i(function(){v(f)})),l.style.top=o+"px",y._endY=o*u/d,s=o),i(w),y.settings.showOnHover&&p.call(g))},_=function(){return T=!1,r.body.style.cursor=h,this.style.cursor="",n.removeClass("dragging"),t(r.body).off("mousemove.enscroll.vertical").off("mouseup.enscroll.vertical"),t(r).off("mouseout.enscroll.vertical"),f.on("scroll.enscroll.pane",function(t){m.call(this,t)}),!1};return n=t(y.verticalTrackWrapper).find(".enscroll-track"),l=n.children().first()[0],o=parseInt(l.style.top,10),u=g.scrollHeight-(y._scrollHeightNoPadding?t(g).height():t(g).innerHeight()),a=e.clientY-t(l).offset().top,d=n.height()-t(l).outerHeight(),c=n.offset().top,f.off("scroll.enscroll.pane"),t(r.body).on({"mousemove.enscroll.vertical":function(t){return T&&(o=t.clientY-c-a,o=Math.min(o<0?0:o,d)),!1},"mouseup.enscroll.vertical":function(t){_.call(l,t)}}),t(r).on("mouseout.enscroll.vertical",function(t){t.target.nodeName&&"HTML"===t.target.nodeName.toUpperCase()&&_.call(l,t)}),n.hasClass("dragging")||(n.addClass("dragging"),h=t(r.body).css("cursor"),this.style.cursor=r.body.style.cursor="ns-resize"),i(w),!1}},T=function(e){if(1===e.which){var n,l,o,s,a,c,h,d,u,g=e.data.pane,f=t(g),y=t(g).data("enscroll"),T=!0,w=function(){T&&(o!==s&&(y._scrollingX||(y._scrollingX=!0,y._startX=f.scrollLeft(),i(function(){v(f)})),l.style.left=o+"px",y._endX=o*a/u,s=o),i(w),y.settings.showOnHover&&p.call(g))},_=function(){return T=!1,n.removeClass("dragging"),r.body.style.cursor=d,this.style.cursor="",n.removeClass("dragging"),t(r.body).off("mousemove.enscroll.horizontal").off("mouseup.enscroll.horizontal"),t(r).off("mouseout.enscroll.horizontal"),f.on("scroll.enscroll.pane",function(t){m.call(this,t)}),!1};return n=t(y.horizontalTrackWrapper).find(".enscroll-track"),l=n.children().first()[0],o=parseInt(l.style.left,10),a=g.scrollWidth-t(g).innerWidth(),c=e.clientX-t(l).offset().left,u=n.width()-t(l).outerWidth(),h=n.offset().left,f.off("scroll.enscroll.pane"),t(r.body).on({"mousemove.enscroll.horizontal":function(t){return T&&(o=t.clientX-h-c,o=Math.min(o<0?0:o,u)),!1},"mouseup.enscroll.horizontal":function(t){_.call(l,t)}}),t(r).on("mouseout.enscroll.horizontal",function(t){t.target.nodeName&&"HTML"===t.target.nodeName.toUpperCase()&&_.call(l,t)}),n.hasClass("dragging")||(n.addClass("dragging"),d=t("body").css("cursor"),this.style.cursor=r.body.style.cursor="ew-resize"),i(w),!1}},w=function(t,e){var r=t.data("enscroll"),n=t.scrollLeft(),l=t[0].scrollWidth-t.innerWidth();return!(!r.settings.horizontalScrolling||r._scrollingY)&&(r._scrollingX||(r._scrollingX=!0,r._startX=n,r._endX=r._startX,i(function(){v(t)})),r._endX=e>0?Math.min(n+e,l):Math.max(0,n+e),e<0&&n>0||e>0&&n<l)},_=function(t,e){var r=t.data("enscroll"),n=t.scrollTop(),l=t[0].scrollHeight-(r._scrollHeightNoPadding?t.height():t.innerHeight());return!(!r.settings.verticalScrolling||r._scrollingX)&&(r._scrollingY||(r._scrollingY=!0,r._startY=n,r._endY=r._startY,i(function(){v(t)})),r._endY=e>0?Math.min(n+e,l):Math.max(0,n+e),e<0&&n>0||e>0&&n<l)},b=function(e){var r,n=t(this),l=n.data("enscroll");if(!/(input)|(select)|(textarea)/i.test(this.nodeName)&&e.target===this&&l){switch(r=l.settings.scrollIncrement,e.keyCode){case 32:case 34:return _(n,n.height()),!1;case 33:return _(n,-n.height()),!1;case 35:return _(n,this.scrollHeight),!1;case 36:return _(n,-this.scrollHeight),!1;case 37:return w(n,-r),!1;case 38:return _(n,-r),!1;case 39:return w(n,r),!1;case 40:return _(n,r),!1}return!0}},k=function(){var e=this,n=t(e).data("enscroll").settings,l=!0,o=0,s=0,a=t(e).offset().top,c=a+t(e).outerHeight(),h=t(e).offset().left,d=h+t(e).outerWidth(),u=function(){n.horizontalScrolling&&o&&f(e,parseInt(o/4,10)),n.verticalScrolling&&s&&g(e,parseInt(s/4,10)),l&&i(u)};i(u),t(r).on({"mousemove.enscroll.pane":function(t){var e=t.pageX,r=t.pageY;o=e<h?e-h:e>d?e-d:0,s=r<a?r-a:r>c?r-c:0},"mouseup.enscroll.pane":function(){l=!1,t(r).off("mousemove.enscroll.pane").off("mouseup.enscroll.pane")}})},C=function(t){var e,r,n,l,s,a,c,d=this,u=function(t){e=t.touches[0].clientX,r=t.touches[0].clientY,n||(n=r===s&&e===l?void 0:Math.abs(s-r)>Math.abs(l-e)?"y":"x"),o(t)},p=function(){a&&("y"===n?(g(d,s-r),c=s-r,s=r):"x"===n&&(f(d,l-e),c=l-e,l=e),i(p))},v=function(){var t=0,e=Math.abs(1.5*c);this.removeEventListener("touchmove",u,!1),this.removeEventListener("touchend",v,!1),a=!1,i(function r(){var l;t===e||a||(l=function(t,e,r){return Math.round(t*h*Math.pow(2,-10*r/e+1)/e)}(c,e,t),isNaN(l)||0===l||(t+=1,"y"===n?g(d,l):f(d,l),i(r)))})};1===t.touches.length&&(l=t.touches[0].clientX,s=t.touches[0].clientY,a=!0,this.addEventListener("touchmove",u,!1),this.addEventListener("touchend",v,!1),i(p))},z={reposition:function(){return this.each(function(){var e,r,n,l=t(this),o=l.data("enscroll"),i=function(t,e,r){t.style.left=e+"px",t.style.top=r+"px"};o&&(n=l.position(),e=o.corner,o.settings.verticalScrolling&&i(r=o.verticalTrackWrapper,"right"===o.settings.verticalScrollerSide?n.left+l.outerWidth()-t(r).width()-s(this,"border-right-width"):n.left+s(this,"border-left-width"),n.top+s(this,"border-top-width")),o.settings.horizontalScrolling&&i(r=o.horizontalTrackWrapper,n.left+s(this,"border-left-width"),n.top+l.outerHeight()-t(r).height()-s(this,"border-bottom-width")),e&&i(e,n.left+l.outerWidth()-t(e).outerWidth()-s(this,"border-right-width"),n.top+l.outerHeight()-t(e).outerHeight()-s(this,"border-bottom-width")))})},resize:function(){return this.each(function(){var e,r,n,l,o,i,s,a,c,h,d,u,p,g,f,v,m=t(this),y=m.data("enscroll");if(!y)return!0;e=y.settings,m.is(":visible")?(e.verticalScrolling&&(l=y.verticalTrackWrapper,o=(r=m.innerHeight())/this.scrollHeight,i=t(l).find(".enscroll-track")[0],c=t(l).find("."+e.scrollUpButtonClass),h=t(l).find("."+e.scrollDownButtonClass),a=e.horizontalScrolling?r-t(y.horizontalTrackWrapper).find(".enscroll-track").outerHeight():r,a-=t(i).outerHeight()-t(i).height()+c.outerHeight()+h.outerHeight(),p=i.firstChild,f=Math.max(o*a,e.minScrollbarLength),f-=t(p).outerHeight()-t(p).height(),l.style.display="none",i.style.height=a+"px",p.style.height=f+"px",o<1&&(o=m.scrollTop()/(this.scrollHeight-m.height()),p.style.top=o*(a-f)+"px",l.style.display="block")),e.horizontalScrolling&&(l=y.horizontalTrackWrapper,o=(n=m.innerWidth())/this.scrollWidth,i=t(l).find(".enscroll-track")[0],d=t(l).find("."+e.scrollLeftButtonClass),u=t(l).find("."+e.scrollRightButtonClass),s=e.verticalScrolling?n-t(y.verticalTrackWrapper).find(".enscroll-track").outerWidth():n,s-=t(i).outerWidth()-t(i).width()+d.outerWidth()+u.outerWidth(),p=i.firstChild,g=Math.max(o*s,e.minScrollbarLength),g-=t(p).outerWidth()-t(p).width(),l.style.display="none",i.style.width=s+"px",p.style.width=g+"px",o<1&&(o=m.scrollLeft()/(this.scrollWidth-m.width()),p.style.left=o*(s-g)+"px",l.style.display="block"),y._prybar&&(v=y._prybar,this.removeChild(v),e.verticalScrolling&&(v.style.width=this.scrollWidth+t(y.verticalTrackWrapper).find(".enscroll-track").outerWidth()+"px",this.appendChild(v)))),y.corner&&(y.corner.style.display=y.verticalTrackWrapper&&y.horizontalTrackWrapper&&t(y.verticalTrackWrapper).is(":visible")&&t(y.horizontalTrackWrapper).is(":visible")?"":"none")):(e.verticalScrolling&&(y.verticalTrackWrapper.style.display="none"),e.horizontalScrolling&&(y.horizontalTrackWrapper.style.display="none"),y.corner&&(y.corner.style.display="none"))})},startPolling:function(){return this.each(function(){var e,r=t(this).data("enscroll"),n=this,l=t(n),o=-1,i=-1,s=-1,a=-1,c=function(){if(r.settings.pollChanges){var t=n.scrollWidth,h=n.scrollHeight,d=l.width(),u=l.height(),p=l.offset();(r.settings.verticalScrolling&&(u!==i||h!==a)||r.settings.horizontalScrolling&&(d!==o||t!==s))&&(s=t,a=h,z.resize.call(l)),e.left===p.left&&e.top===p.top&&d===o&&u===i||(e=p,o=d,i=u,z.reposition.call(l)),setTimeout(c,350)}};r&&(r.settings.pollChanges=!0,a=n.scrollHeight,s=n.scrollWidth,e=l.offset(),c())})},stopPolling:function(){return this.each(function(){var e=t(this).data("enscroll");e&&(e.settings.pollChanges=!1)})},destroy:function(){return this.each(function(){var r,n,l=t(this),o=l.data("enscroll");o&&(z.stopPolling.call(l),n=o._mouseScrollHandler,o.settings.verticalScrolling&&(r=o.verticalTrackWrapper,t(r).remove(),r=null),o.settings.horizontalScrolling&&(r=o.horizontalTrackWrapper,t(r).remove(),r=null),o._fadeTimer&&clearTimeout(o._fadeTimer),o.corner&&t(o.corner).remove(),o._prybar&&o._prybar.parentNode&&o._prybar.parentNode===this&&t(o._prybar).remove(),this.setAttribute("style",o._style||""),o._hadTabIndex||l.removeAttr("tabindex"),l.off("scroll.enscroll.pane").off("keydown.enscroll.pane").off("mouseenter.enscroll.pane").off("mousedown.enscroll.pane").data("enscroll",null),this.removeEventListener?(this.removeEventListener("wheel",n,!1),this.removeEventListener("mousewheel",n,!1),this.removeEventListener("touchstart",C,!1)):this.detachEvent&&this.detachEvent("onmousewheel",n),t(e).off("resize.enscroll.window"))})}};t.fn.enscroll=function(n){var i;return z[n]?z[n].call(this):(i=t.extend({},l,n),this.each(function(){if(i.verticalScrolling||i.horizontalScrolling){var n,l,c,h,d,u,v,W,H,x,S,X,Y,E,L,M,N,I=t(this),B=this,P=I.attr("style"),D=!0,A={position:"absolute","z-index":i.zIndex,margin:0,padding:0},O=function(e){(function(e){var r=t(this),n=r.data("enscroll"),l=n.settings.scrollIncrement,i="deltaX"in e?-e.deltaX:"wheelDeltaX"in e?e.wheelDeltaX:0,s="deltaY"in e?-e.deltaY:"wheelDeltaY"in e?e.wheelDeltaY:"wheelDelta"in e?e.wheelDelta:0;Math.abs(i)>Math.abs(s)&&0!==i?!w(r,(i>0?-l:l)<<2)&&n.settings.propagateWheelEvent||o(e):0!==s&&(!_(r,(s>0?-l:l)<<2)&&n.settings.propagateWheelEvent||o(e))}).call(B,e)},R=function(e,r){"string"==typeof r?t(e).html(r):e.appendChild(r)};if(i.verticalScrolling){l=r.createElement("div"),h=r.createElement("div"),u=r.createElement("a"),t(h).css("position","relative").addClass("enscroll-track").addClass(i.verticalTrackClass).appendTo(l),i.drawScrollButtons&&(v=r.createElement("a"),W=r.createElement("a"),t(v).css({display:"block","text-decoration":"none"}).attr("href","").html("&nbsp;").addClass(i.scrollUpButtonClass).on("click",function(){return g(B,-i.scrollIncrement),!1}).insertBefore(h),t(W).css({display:"block","text-decoration":"none"}).attr("href","").html("&nbsp;").on("click",function(){return g(B,i.scrollIncrement),!1}).addClass(i.scrollDownButtonClass).appendTo(l)),i.clickTrackToScroll&&t(h).on("click",function(e){e.target===this&&_(I,e.pageY>t(u).offset().top?I.height():-I.height())}),t(u).css({position:"absolute","z-index":1}).attr("href","").addClass(i.verticalHandleClass).mousedown({pane:this},y).click(function(){return!1}).appendTo(h),R(u,i.verticalHandleHTML),t(l).css(A).insertAfter(this),i.showOnHover&&t(l).css("opacity",0).on("mouseover.enscroll.vertical",function(){p.call(B,!1)}).on("mouseout.enscroll.vertical",function(){p.call(B)}),X=t(h).outerWidth(),i.addPaddingToPane&&(N="right"===i.verticalScrollerSide?{"padding-right":s(this,"padding-right")+X+"px"}:{"padding-left":s(this,"padding-left")+X+"px"},I.css(t.extend({width:I.width()-X+"px"},N)));try{0!==(L=parseInt(I.css("outline-width"),10))&&!isNaN(L)||"none"!==I.css("outline-style")||I.css("outline","none")}catch(t){I.css("outline","none")}}i.horizontalScrolling&&(n=r.createElement("div"),c=r.createElement("div"),d=r.createElement("a"),t(c).css({position:"relative","z-index":1}).addClass("enscroll-track").addClass(i.horizontalTrackClass).appendTo(n),i.drawScrollButtons&&(H=r.createElement("a"),x=r.createElement("a"),t(H).css("display","block").attr("href","").on("click",function(){return f(B,-i.scrollIncrement),!1}).addClass(i.scrollLeftButtonClass).insertBefore(c),t(x).css("display","block").attr("href","").on("click",function(){return f(B,i.scrollIncrement),!1}).addClass(i.scrollRightButtonClass).appendTo(n)),i.clickTrackToScroll&&t(c).on("click",function(e){e.target===this&&w(I,e.pageX>t(d).offset().left?I.width():-I.width())}),t(d).css({position:"absolute","z-index":1}).attr("href","").addClass(i.horizontalHandleClass).click(function(){return!1}).mousedown({pane:this},T).appendTo(c),R(d,i.horizontalHandleHTML),t(n).css(A).insertAfter(this),i.showOnHover&&t(n).css("opacity",0).on("mouseover.enscroll.horizontal",function(){p.call(B,!1)}).on("mouseout.enscroll.horizontal",function(){p.call(B)}),S=t(c).outerHeight(),i.addPaddingToPane&&I.css({height:I.height()-S+"px","padding-bottom":parseInt(I.css("padding-bottom"),10)+S+"px"}),i.verticalScrolling&&(M=document.createElement("div"),t(M).css({width:"1px",height:"1px",visibility:"hidden",padding:0,margin:"-1px"}).appendTo(this))),i.verticalScrolling&&i.horizontalScrolling&&i.drawCorner&&(Y=r.createElement("div"),t(Y).addClass(i.cornerClass).css(A).insertAfter(this)),I.attr("tabindex")||(I.attr("tabindex",0),D=!1);try{(!(E=I.css("outline"))||E.length<1)&&I.css("outline","none")}catch(t){I.css("outline","none")}I.on({"scroll.enscroll.pane":function(t){m.call(this,t)},"keydown.enscroll.pane":b,"mousedown.enscroll.pane":k}).css("overflow","hidden").data("enscroll",{settings:i,horizontalTrackWrapper:n,verticalTrackWrapper:l,corner:Y,_prybar:M,_mouseScrollHandler:O,_hadTabIndex:D,_style:P,_scrollingX:!1,_scrollingY:!1,_startX:0,_startY:0,_endX:0,_endY:0,_duration:parseInt(i.easingDuration/16.66666,10),_scrollHeightNoPadding:a(this.nodeName)}),t(e).on("resize.enscroll.window",function(){z.reposition.call(I)}),i.showOnHover&&I.on("mouseenter.enscroll.pane",function(){p.call(this)}),this.addEventListener?("onwheel"in this||"WheelEvent"in e&&navigator.userAgent.toLowerCase().indexOf("msie")>=0?this.addEventListener("wheel",O,!1):"onmousewheel"in this&&this.addEventListener("mousewheel",O,!1),this.addEventListener("touchstart",C,!1)):this.attachEvent&&this.attachEvent("onmousewheel",O),i.pollChanges&&z.startPolling.call(I),z.resize.call(I),z.reposition.call(I)}}))}}(jQuery,window,document);
